#SQL[@2,N30]Result[]
drop database if exists testdb;

#SQL[@3,N22]Result[]
create database testdb;

#SQL[@4,N10]Result[]
use testdb;

#SQL[@5,N43]Result[]
create table hhh (a int, b int, index(`b`));

#SQL[@6,N58]Result[]
insert into hhh select *,* from generate_series(1, 81920)g;

#SQL[@7,N31]Result[1, 3]
select a from hhh where b = 999;
a
999

#SQL[@8,N14]Result[]
drop table hhh;

#SQL[@10,N31]Result[24, 4]
select enable_fault_injection();
enable_fault_injection()
true

#SQL[@12,N41]Result[]
create table t2(a int primary key, b int);

#SQL[@13,N76]Result[65, 4]
select add_fault_point('fj/cn/flush_small_objs',':::','echo',40,'testdb.t2');
add_fault_point(fj/cn/flush_small_objs, :::, echo, 40, testdb.t2)
true

#SQL[@14,N56]Result[]
insert into t2 select *,* from generate_series(1,81920)g;

#SQL[@15,N99]Result[1, 1, 1, 5, 5, 5, 5, 5, 5]
select a from t2 where a in (1,2) or a in (10000,10001) or a in (20000,20001) or a in (40000,40001);
a
1
2
10000
10001
20000
20001
40000
40001

#SQL[@16,N13]Result[]
drop table t2;

#SQL[@17,N20]Result[]
drop database testdb;

#SQL[@18,N32]Result[25, 4]
select disable_fault_injection();
disable_fault_injection()
true

