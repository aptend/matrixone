#SQL[@3,N60]Result[]
/*!40101 -- SET @saved_cs_client = @@character_set_client */;

#SQL[@4,N46]Result[]
/*!40101 -- SET character_set_client = utf8 */;

#SQL[@5,N61]Result[]
/*!40000 create database if not exists mysql_ddl_test_db_5 */;

#SQL[@6,N46]Result[]
/*!40000 show tables in mysql_ddl_test_db_5 */;

#SQL[@7,N112]Result[]
/* this is a comment */
/* and this
is also
a coment */

drop database /*!40000 if exists */ mysql_ddl_test_db_1;

#SQL[@13,N61]Result[]
create database /*!40000 if not exists */ mysql_ddl_test_db_1;

#SQL[@14,N23]Result[]
use mysql_ddl_test_db_1;

#SQL[@15,N17]Result[10, 19]
select database();
database()
mysql_ddl_test_db_1

#SQL[@19,N43]Result[]
drop database if exists mysql_ddl_test_db_2;

#SQL[@20,N49]Result[]
create database if not exists mysql_ddl_test_db_2;

#SQL[@21,N23]Result[]
use mysql_ddl_test_db_2;

#SQL[@22,N17]Result[10, 19]
select database();
database()
mysql_ddl_test_db_2

#SQL[@24,N32]Error[36]
/*!40101 use mysql_ddl_test_db_3;
Unknown database mysql_ddl_test_db_3

#SQL[@24,N20]Result[10, 19]
*/
select database();
database()
mysql_ddl_test_db_2

#SQL[@26,N79]Result[]
create database /* this is another comment */ if not exists mysql_ddl_test_db_3;

#SQL[@27,N23]Result[]
use mysql_ddl_test_db_3;

#SQL[@28,N17]Result[10, 19]
select database();
database()
mysql_ddl_test_db_3

#SQL[@36,N51]Result[]
SET @MYSQLDUMP_TEMP_LOG_BIN = @@SESSION.SQL_LOG_BIN;

#SQL[@37,N30]Result[23, 1]
select @MYSQLDUMP_TEMP_LOG_BIN;
@MYSQLDUMP_TEMP_LOG_BIN
0

#SQL[@38,N34]Result[]
SET @MYSQLDUMP_TEMP_LOG_BIN = NULL;

#SQL[@42,N28]Result[]
SET @@SESSION.SQL_LOG_BIN= 0;

#SQL[@43,N28]Result[13, 1]
select @@SESSION.SQL_LOG_BIN;
@@sql_log_bin
0

#SQL[@45,N87]Result[]
SET @@GLOBAL.GTID_PURGED=/*!80000 '+'*/ '65c4c218-d343-11eb-8106-525400f4f901:1-769275';

#SQL[@46,N27]Result[13, 45]
select @@GLOBAL.GTID_PURGED;
@@gtid_purged
65c4c218-d343-11eb-8106-525400f4f901:1-769275

#SQL[@48,N34]Result[]
/*!40103 SET TIME_ZONE='+00:00' */;

#SQL[@49,N18]Result[11, 6]
select @@TIME_ZONE;
@@time_zone
+00:00

#SQL[@51,N22]Result[]
SET TIME_ZONE='+08:00';

#SQL[@52,N18]Result[11, 6]
select @@TIME_ZONE;
@@time_zone
+08:00

#SQL[@53,N22]Result[]
SET TIME_ZONE='SYSTEM';

#SQL[@54,N18]Result[11, 6]
select @@TIME_ZONE;
@@time_zone
SYSTEM

#SQL[@56,N26]Result[]
SET @saved_cs_client = xxx;

#SQL[@57,N23]Result[16, 3]
select @saved_cs_client;
@saved_cs_client
xxx

#SQL[@58,N31]Result[]
SET character_set_client  = xxx;

#SQL[@59,N29]Result[22, 3]
select @@character_set_client;
@@character_set_client
xxx

#SQL[@61,N43]Result[]
drop database if exists mysql_ddl_test_db_1;

#SQL[@62,N43]Result[]
drop database if exists mysql_ddl_test_db_2;

#SQL[@63,N43]Result[]
drop database if exists mysql_ddl_test_db_3;

#SQL[@64,N43]Result[]
drop database if exists mysql_ddl_test_db_4;

#SQL[@65,N43]Result[]
drop database if exists mysql_ddl_test_db_5;

#SQL[@67,N43]Result[]
drop database if exists mysql_ddl_test_db_1;

#SQL[@68,N49]Result[]
create database if not exists mysql_ddl_test_db_1;

#SQL[@69,N23]Result[]
use mysql_ddl_test_db_1;

#SQL[@70,N489]Result[]
CREATE TABLE `tenx_configs` (
  `config_id` varchar(45) NOT NULL,
  `config_type` varchar(45) DEFAULT NULL COMMENT 'config_type 有效值
storage
cicd
registry
monitor',
  `config_detail` varchar(2000) DEFAULT NULL,
  `create_time` datetime DEFAULT NULL,
  `description` varchar(2000) DEFAULT NULL,
  PRIMARY KEY (`config_id`),
  KEY `config_type` (`config_type`)
) COMMENT='该表包含了所有的通用配置，所有集群可以共用一个，目前有三类：storage, cicd, registry';

#SQL[@84,N774]Result[]
SELECT tenx_configs.*
FROM (SELECT _utf8mb4'ai' COLLATE utf8mb4_unicode_ci AS config_type
 UNION ALL SELECT _utf8mb4'cicd'
 UNION ALL SELECT _utf8mb4'registry'
 UNION ALL SELECT _utf8mb4'mail'
 UNION ALL SELECT _utf8mb4'apiServer'
 UNION ALL SELECT _utf8mb4'harbor'
 UNION ALL SELECT _utf8mb4'vm'
 UNION ALL SELECT _utf8mb4'ftp'
 UNION ALL SELECT _utf8mb4'msa'
 UNION ALL SELECT _utf8mb4'billing'
 UNION ALL SELECT _utf8mb4'message'
 UNION ALL SELECT _utf8mb4'loadbalance'
 UNION ALL SELECT _utf8mb4'openstack'
 UNION ALL SELECT _utf8mb4'chart_repo'
 UNION ALL SELECT _utf8mb4'license_menu'
 UNION ALL SELECT _utf8mb4'tamp'
 UNION ALL SELECT _utf8mb4'tdsf'
 UNION ALL SELECT _utf8mb4 'asset') AS types
 INNER JOIN tenx_configs ON types.config_type = tenx_configs.config_type;

#SQL[@105,N43]Result[]
drop database if exists mysql_ddl_test_db_1;

