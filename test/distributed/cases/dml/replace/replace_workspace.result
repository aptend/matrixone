#SQL[@1,N28]Result[]
drop database if exists test;

#SQL[@2,N20]Result[]
create database test;

#SQL[@3,N8]Result[]
use test;

#SQL[@5,N34]Result[]
create table t1(a int primary key);

#SQL[@6,N22]Result[]
create table t2(a int);

#SQL[@7,N56]Result[]
insert into t2 select * from generate_series(1, 819200)g;

#SQL[@9,N5]Result[]
begin;

#SQL[@10,N51]Result[]
replace into t1 select a from t2 where a mod 11 = 0;

#SQL[@11,N51]Result[]
replace into t1 select a from t2 where a mod 13 = 0;

#SQL[@12,N51]Result[]
replace into t1 select a from t2 where a mod 17 = 0;

#SQL[@13,N8]Result[]
rollback;

#SQL[@15,N23]Result[]
drop table if exists t1;

#SQL[@16,N23]Result[]
drop table if exists t2;

#SQL[@17,N28]Result[]
drop database if exists test;

