#SQL[@1,N62]Result[]
create account acc101 admin_name='root' identified by '123456';

#SQL[@5,N23]Error[20]
drop table if exists t1;
No database selected

#SQL[@7,N31]Error[20]
drop index if exists idx1 on t1;
No database selected

#SQL[@9,N22]Error[20]
drop view if exists v1;
No database selected

#SQL[@11,N19]Result[]
create database db1;

#SQL[@12,N7]Result[]
use db1;

#SQL[@13,N309]Result[]
create table t1(
        empno int unsigned auto_increment,
        ename varchar(15),
        job varchar(10),
        mgr int unsigned,
        hiredate date,
        sal decimal(7,2),
        comm decimal(7,2),
        deptno int unsigned,
        primary key(empno),
        unique index idx1(ename)
    );

#SQL[@26,N18]Result[233, 124, 124]
show index from t1;
Table  ¦  Non_unique  ¦  Key_name  ¦  Seq_in_index  ¦  Column_name  ¦  Collation  ¦  Cardinality  ¦  Sub_part  ¦  Packed  ¦  Null  ¦  Index_type  ¦  Comment  ¦  Index_comment  ¦  Index_params  ¦  Visible  ¦  Expression
t1  ¦  0  ¦  idx1  ¦  1  ¦  ename  ¦  A  ¦  0  ¦  NULL  ¦  NULL  ¦  YES  ¦    ¦    ¦    ¦    ¦  YES  ¦  ename
t1  ¦  0  ¦  PRIMARY  ¦  1  ¦  empno  ¦  A  ¦  0  ¦  NULL  ¦  NULL  ¦    ¦    ¦    ¦    ¦    ¦  YES  ¦  empno

#SQL[@27,N34]Result[]
create view v1 as select * from t1;

#SQL[@28,N11]Result[13, 2, 2]
show tables;
Tables_in_db1
t1
v1

#SQL[@34,N31]Error[20]
drop index if exists idx1 on t1;
No database selected

#SQL[@36,N23]Error[20]
drop table if exists t1;
No database selected

#SQL[@38,N22]Error[20]
drop view if exists v1;
No database selected

#SQL[@41,N7]Result[]
use db1;

#SQL[@42,N31]Result[]
drop index if exists idx1 on t1;

#SQL[@43,N18]Result[233, 124]
show index from t1;
Table  ¦  Non_unique  ¦  Key_name  ¦  Seq_in_index  ¦  Column_name  ¦  Collation  ¦  Cardinality  ¦  Sub_part  ¦  Packed  ¦  Null  ¦  Index_type  ¦  Comment  ¦  Index_comment  ¦  Index_params  ¦  Visible  ¦  Expression
t1  ¦  0  ¦  PRIMARY  ¦  1  ¦  empno  ¦  A  ¦  0  ¦  NULL  ¦  NULL  ¦    ¦    ¦    ¦    ¦    ¦  YES  ¦  empno

#SQL[@44,N22]Result[]
drop view if exists v1;

#SQL[@45,N23]Result[]
drop table if exists t1;

#SQL[@47,N11]Result[]
show tables;

#SQL[@48,N17]Result[]
drop database db1;

#SQL[@50,N19]Result[]
drop account acc101;

#SQL[@53,N28]Result[]
drop database if exists test;

#SQL[@54,N20]Result[]
create database test;

#SQL[@55,N5]Result[]
begin;

#SQL[@56,N38]Result[]
create table test.t1(a int, b varchar);

#SQL[@57,N31]Result[24, 4]
select enable_fault_injection();
enable_fault_injection()
true

#SQL[@58,N74]Result[63, 4]
select add_fault_point('fj/cn/flush_small_objs',':::','echo',40,'test.t1');
add_fault_point(fj/cn/flush_small_objs, :::, echo, 40, test.t1)
true

#SQL[@59,N107]Result[]
insert into test.t1 select *,"just a test for clean files from the disk" from generate_series(1, 50*10000)g;

#SQL[@60,N28]Result[8, 6]
select count(*) from test.t1;
count(*)
500000

#SQL[@61,N18]Result[]
drop table test.t1;

#SQL[@62,N32]Result[25, 4]
select disable_fault_injection();
disable_fault_injection()
true

#SQL[@63,N6]Result[]
commit;

#SQL[@65,N18]Result[]
drop database test;

